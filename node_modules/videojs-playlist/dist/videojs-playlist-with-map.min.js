/*!
 * @name videojs-playlist
 * @version 3.1.1
 * @author Brightcove, Inc.
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videojsPlaylist=e()}}(function(){return function e(n,t,r){function o(u,a){if(!t[u]){if(!n[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[u]={exports:{}};n[u][0].call(l.exports,function(e){var t=n[u][1][e];return o(t||e)},l,l.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){(function(t){"use strict";function r(e){return e&&"object"===(void 0===e?"undefined":o(e))&&"default"in e?e["default"]:e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(void 0!==u?u.videojs:void 0!==t?t.videojs:null),u=r(e(1)),a=function(e){return"number"==typeof e&&!isNaN(e)&&e>=0&&e<Infinity},f=function(e){e.playlist.autoadvance_.timeout&&u.clearTimeout(e.playlist.autoadvance_.timeout),e.playlist.autoadvance_.trigger&&e.off("ended",e.playlist.autoadvance_.trigger),e.playlist.autoadvance_.timeout=null,e.playlist.autoadvance_.trigger=null},c=function(e,n){f(e),a(n)&&(e.playlist.autoadvance_.trigger=function(){e.playlist.autoadvance_.timeout=u.setTimeout(function(){f(e),e.playlist.next()},1e3*n)},e.one("ended",e.playlist.autoadvance_.trigger))},l=function(e){for(var n=e.remoteTextTracks(),t=n&&n.length||0;t--;)e.removeRemoteTextTrack(n[t])},d=function(e,n,t){var r=!e.paused()||e.ended();return e.trigger("beforeplaylistitem",t),e.poster(t.poster||""),e.src(t.sources),l(e),(t.textTracks||[]).forEach(e.addRemoteTextTrack.bind(e)),e.trigger("playlistitem",t),r&&e.play(),c(e,n),e},s=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},p=function(e,n){var t=e,r=n;return"object"===(void 0===e?"undefined":o(e))&&(t=e.src),"object"===(void 0===n?"undefined":o(n))&&(r=n.src),/^\/\//.test(t)&&(r=r.slice(r.indexOf("//"))),/^\/\//.test(r)&&(t=t.slice(t.indexOf("//"))),t===r},y=function(e,n){for(var t=0;t<e.length;t++){var r=e[t].sources;if(Array.isArray(r))for(var o=0;o<r.length;o++){var i=r[o];if(i&&p(i,n))return t}}return-1},v=function(e,n){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,r=Array.isArray(n)?n.slice():[],o=e.playlist=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return Array.isArray(n)&&(r=n.slice(),-1!==t&&o.currentItem(t),o.changeTimeout_=u.setTimeout(function(){e.trigger("playlistchange")},0)),r.slice()};return e.on("loadstart",function(){-1===o.currentItem()&&f(e)}),e.on("dispose",function(){u.clearTimeout(o.changeTimeout_)}),s(o,{currentIndex_:-1,player_:e,autoadvance_:{},repeat_:!1,currentItem:function(e){return"number"==typeof e&&o.currentIndex_!==e&&e>=0&&e<r.length?(o.currentIndex_=e,d(o.player_,o.autoadvance_.delay,r[o.currentIndex_])):o.currentIndex_=o.indexOf(o.player_.currentSrc()||""),o.currentIndex_},contains:function(e){return-1!==o.indexOf(e)},indexOf:function(e){if("string"==typeof e)return y(r,e);for(var n=Array.isArray(e)?e:e.sources,t=0;t<n.length;t++){var o=n[t];if("string"==typeof o)return y(r,o);if(o.src)return y(r,o.src)}return-1},first:function(){if(r.length)return r[o.currentItem(0)];o.currentIndex_=-1},last:function(){if(r.length)return r[o.currentItem(r.length-1)];o.currentIndex_=-1},next:function(){var e=void 0;if(o.repeat_?(e=o.currentIndex_+1)>r.length-1&&(e=0):e=Math.min(o.currentIndex_+1,r.length-1),e!==o.currentIndex_)return r[o.currentItem(e)]},previous:function(){var e=Math.max(o.currentIndex_-1,0);if(e!==o.currentIndex_)return r[o.currentItem(e)]},autoadvance:function(e){o.autoadvance_.delay=e,c(o.player_,e)},repeat:function(e){return e!==undefined&&("boolean"!=typeof e?i.log.error("Invalid value for repeat",e):o.repeat_=e),o.repeat_}}),o.currentItem(t),o},g=i.registerPlugin||i.plugin,m=function(e,n){v(this,e,n)};g("playlist",m),n.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}]},{},[2])(2)});
//# sourceMappingURL=videojs-playlist.min.js.map